# this file automatically gets inserted into Makefiles generated by opp_makemake

# override SUBDIRS, leaving out the Documentation directory from the build
SUBDIRS_DOC=Application Common Network Simulation

# preserve default target
all: $(TARGET)

# all _m.h files must exist before we build anything, so run opp_msgc first
subdirs $(OBJS) : generateheaders

# add dependencies across directories
Test : Simulation Application Network Common
Simulation : Application Network Common
Application : Network Common
Network : Common

# documentation targets
DOC_DIR=Documentation

docs: doxy neddoc

doxy:
	doxygen doxy.cfg

neddoc:
	opp_neddoc --no-source -o $(DOC_DIR)/neddoc -t $(DOC_DIR)/doxy/doxytags.xml -d ../doxy *.ned *.msg $(SUBDIRS_DOC)

neddoc-without-doxy:
	opp_neddoc --no-source -o $(DOC_DIR)/neddoc *.ned *.msg $(SUBDIRS_DOC)

